<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เลือกประเภทบัญชี - Task Manager</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="auth/styles.css">
    <style>
        :root {
            --bg: #ffffff;
            --surface: #ffffff;
            --text: #0f172a;
            --muted: #64748b;
            --accent: #6366f1;
            --accent-b: #7b7dfc;
            --shadow: 0 12px 28px rgba(17,24,39,.08);
            --mast-h: 72px;
        }

        body.account-type {
            background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.95) 100%),
                       radial-gradient(circle at 20% 80%, rgba(99,102,241,0.03) 0%, transparent 50%),
                       radial-gradient(circle at 80% 20%, rgba(245,158,11,0.02) 0%, transparent 50%);
            min-height: 100vh;
            font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Arial;
        }

        .main-content {
            display: flex;
            height: calc(100vh - var(--mast-h));
            overflow: hidden;
        }
        
        .left-panel {
            flex: 0 0 45%;
            padding: 80px 60px 80px 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            max-width: 600px;
            overflow-y: auto;
        }

        .right-panel {
            flex: 0 0 55%;
            background: #10b981;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            height: calc(100vh - var(--mast-h));
        }

        .illustration {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .mastbar {
            position: sticky;
            top: 0;
            z-index: 50;
            background: var(--surface);
            border-bottom: 1px solid #eef2ff;
            box-shadow: 0 2px 12px rgba(17,24,39,.05);
        }

        .mast-inner {
            height: var(--mast-h);
            max-width: none;
            margin: 0;
            padding: 0 120px 0 32px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .brand {
            font-weight: 1000;
            letter-spacing: .3px;
            text-decoration: none;
            color: var(--text);
            font-size: 24px;
            line-height: 1;
        }

        .brand .accent {
            color: var(--accent);
        }

        .account-type-container {
            max-width: 100%;
            margin: 0;
            padding: 0;
            background: transparent;
            border: none;
            border-radius: 0;
            box-shadow: none;
            backdrop-filter: none;
            text-align: left;
            transition: none;
        }
        
        .account-type-title {
            font-size: 48px;
            font-weight: 900;
            color: var(--text);
            margin-bottom: 16px;
            line-height: 1.1;
        }
        
        .account-type-subtitle {
            color: var(--muted);
            margin-bottom: 48px;
            font-size: 18px;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .account-type-options {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 40px;
        }
        
        .account-type-option {
            padding: 20px 24px;
            border: 2px solid rgba(99,102,241,0.15);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .account-type-option:hover {
            border-color: rgba(99,102,241,0.4);
            background: rgba(255,255,255,0.95);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99,102,241,0.08);
        }
        
        .account-type-option.selected {
            border-color: rgba(99,102,241,0.6);
            background: rgba(99,102,241,0.08);
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1), 0 8px 25px rgba(99,102,241,0.15);
        }
        
        .account-type-icon {
            width: 32px;
            height: 32px;
            margin-bottom: 0;
            flex-shrink: 0;
        }
        
        .account-type-icon svg {
            width: 100%;
            height: 100%;
            stroke: var(--muted);
            fill: none;
            stroke-width: 1.5;
            transition: stroke 0.3s ease;
        }
        
        .account-type-option:hover .account-type-icon svg,
        .account-type-option.selected .account-type-icon svg {
            stroke: var(--accent);
        }
        
        .account-type-content {
            flex: 1;
        }
        
        .account-type-name {
            font-weight: 700;
            font-size: 18px;
            color: var(--text);
            margin-bottom: 4px;
        }
        
        .account-type-desc {
            color: var(--muted);
            font-size: 14px;
            font-weight: 500;
            margin: 0;
        }
        
        .team-input-section {
            margin-bottom: 32px;
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .team-input-section.show {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .team-input-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text);
            text-align: left;
            font-size: 15px;
        }
        
        .team-input {
            width: 100%;
            padding: 16px 20px;
            border: 1.5px solid rgba(99,102,241,0.15);
            border-radius: 14px;
            font-size: 16px;
            font-weight: 500;
            color: var(--text);
            background: rgba(255,255,255,0.8);
            transition: all 0.3s ease;
            box-sizing: border-box;
        }
        
        .team-input:focus {
            outline: none;
            border-color: rgba(99,102,241,0.4);
            background: rgba(255,255,255,0.95);
            box-shadow: 0 0 0 3px rgba(99,102,241,0.1), 0 8px 25px rgba(99,102,241,0.08);
            transform: translateY(-1px);
        }
        
        .team-input:hover {
            border-color: rgba(99,102,241,0.25);
            background: rgba(255,255,255,0.9);
        }
        
        .continue-btn {
            width: 100%;
            height: 56px;
            background: #d1d5db;
            color: #9ca3af;
            border: none;
            border-radius: 14px;
            font-size: 16px;
            font-weight: 700;
            cursor: not-allowed;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        
        .continue-btn.enabled {
            background: linear-gradient(135deg, var(--accent), var(--accent-b));
            color: white;
            cursor: pointer;
            box-shadow: 0 8px 25px rgba(99,102,241,0.25);
        }
        
        .continue-btn.enabled:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(99,102,241,0.35);
            filter: brightness(1.05);
        }
        
        .continue-btn.enabled:active {
            transform: translateY(0);
            box-shadow: 0 6px 20px rgba(99,102,241,0.3);
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .left-panel {
                padding: 40px 24px;
            }
            
            .right-panel {
                min-height: 300px;
            }
            
            .account-type-title {
                font-size: 36px;
            }
            
            .account-type-subtitle {
                font-size: 16px;
            }
            
            .account-type-option {
                padding: 16px 20px;
            }
        }
    </style>
</head>
<body class="account-type">
    <header class="mastbar">
        <div class="mast-inner">
            <a class="brand" href="./index.html">task<span class="accent">manager</span></a>
            <nav class="right-actions"></nav>
        </div>
    </header>

    <div class="main-content">
        <div class="left-panel">
            <div class="account-type-container">
                <h1 class="account-type-title">Hey there, what brings you here today?</h1>
                <p class="account-type-subtitle">เลือกประเภทบัญชีที่เหมาะสมกับการใช้งานของคุณ</p>
                
                <div class="account-type-options">
                    <div class="account-type-option" data-type="work">
                        <div class="account-type-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="3" y="7" width="18" height="11" rx="2" ry="2"/>
                                <path d="M8 7V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                                <line x1="12" y1="11" x2="12" y2="13"/>
                            </svg>
                        </div>
                        <div class="account-type-content">
                            <div class="account-type-name">Work</div>
                            <div class="account-type-desc">สำหรับการทำงานเป็นทีม</div>
                        </div>
                    </div>
                    
                    <div class="account-type-option" data-type="personal">
                        <div class="account-type-icon">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                        </div>
                        <div class="account-type-content">
                            <div class="account-type-name">Personal</div>
                            <div class="account-type-desc">สำหรับการใช้งานส่วนตัว</div>
                        </div>
                    </div>
                </div>
                
                <div class="team-input-section" id="teamInputSection">
                    <label class="team-input-label" for="teamName">ชื่อทีม</label>
                    <input type="text" id="teamName" class="team-input" placeholder="กรอกชื่อทีมของคุณ">
                </div>
                
                <button class="continue-btn" id="continueBtn" disabled>Continue</button>
            </div>
        </div>
        
        <div class="right-panel">
            <svg class="illustration" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
                <!-- Background gradient -->
                <defs>
                    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="taskGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.95" />
                        <stop offset="100%" style="stop-color:#f0fdf4;stop-opacity:0.9" />
                    </linearGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                        <feMerge> 
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/> 
                        </feMerge>
                    </filter>
                </defs>
                
                <!-- Background -->
                <rect width="800" height="600" fill="url(#bgGradient)"/>
                
                <!-- Floating elements -->
                <circle cx="150" cy="120" r="8" fill="rgba(255,255,255,0.2)" opacity="0.6">
                    <animate attributeName="cy" values="120;100;120" dur="3s" repeatCount="indefinite"/>
                </circle>
                <circle cx="680" cy="180" r="6" fill="rgba(255,255,255,0.15)" opacity="0.5">
                    <animate attributeName="cy" values="180;160;180" dur="4s" repeatCount="indefinite"/>
                </circle>
                <circle cx="720" cy="450" r="10" fill="rgba(255,255,255,0.1)" opacity="0.4">
                    <animate attributeName="cy" values="450;430;450" dur="5s" repeatCount="indefinite"/>
                </circle>
                
                <!-- Central task management dashboard -->
                <g transform="translate(400,300)">
                    <!-- Main dashboard background -->
                    <rect x="-150" y="-100" width="300" height="200" rx="15" fill="url(#taskGradient)" filter="url(#glow)" opacity="0.9">
                        <animate attributeName="opacity" values="0.9;1;0.9" dur="4s" repeatCount="indefinite"/>
                    </rect>
                    
                    <!-- Dashboard header -->
                    <rect x="-140" y="-90" width="280" height="30" rx="8" fill="rgba(16,185,129,0.1)"/>
                    <circle cx="-120" cy="-75" r="4" fill="#10b981"/>
                    <circle cx="-105" cy="-75" r="4" fill="#34d399"/>
                    <circle cx="-90" cy="-75" r="4" fill="#6ee7b7"/>
                    
                    <!-- Task rows with animation -->
                    <g id="taskRows">
                        <!-- Task row 1 -->
                        <rect x="-130" y="-45" width="260" height="20" rx="4" fill="rgba(16,185,129,0.1)" opacity="0.8">
                            <animate attributeName="width" values="260;280;260" dur="3s" repeatCount="indefinite"/>
                        </rect>
                        <circle cx="-115" cy="-35" r="3" fill="#10b981">
                            <animate attributeName="fill" values="#10b981;#34d399;#10b981" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        <rect x="-100" y="-38" width="80" height="3" rx="1" fill="#10b981" opacity="0.7"/>
                        <rect x="-100" y="-32" width="60" height="2" rx="1" fill="#6b7280" opacity="0.5"/>
                        
                        <!-- Task row 2 -->
                        <rect x="-130" y="-15" width="260" height="20" rx="4" fill="rgba(16,185,129,0.1)" opacity="0.8">
                            <animate attributeName="width" values="260;280;260" dur="3.5s" repeatCount="indefinite"/>
                        </rect>
                        <circle cx="-115" cy="-5" r="3" fill="#34d399">
                            <animate attributeName="fill" values="#34d399;#6ee7b7;#34d399" dur="2.5s" repeatCount="indefinite"/>
                        </circle>
                        <rect x="-100" y="-8" width="100" height="3" rx="1" fill="#34d399" opacity="0.7"/>
                        <rect x="-100" y="-2" width="70" height="2" rx="1" fill="#6b7280" opacity="0.5"/>
                        
                        <!-- Task row 3 -->
                        <rect x="-130" y="15" width="260" height="20" rx="4" fill="rgba(16,185,129,0.1)" opacity="0.8">
                            <animate attributeName="width" values="260;280;260" dur="4s" repeatCount="indefinite"/>
                        </rect>
                        <circle cx="-115" cy="25" r="3" fill="#6ee7b7">
                            <animate attributeName="fill" values="#6ee7b7;#a7f3d0;#6ee7b7" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <rect x="-100" y="22" width="90" height="3" rx="1" fill="#6ee7b7" opacity="0.7"/>
                        <rect x="-100" y="28" width="50" height="2" rx="1" fill="#6b7280" opacity="0.5"/>
                        
                        <!-- Task row 4 -->
                        <rect x="-130" y="45" width="260" height="20" rx="4" fill="rgba(16,185,129,0.1)" opacity="0.8">
                            <animate attributeName="width" values="260;280;260" dur="2.8s" repeatCount="indefinite"/>
                        </rect>
                        <circle cx="-115" cy="55" r="3" fill="#a7f3d0">
                            <animate attributeName="fill" values="#a7f3d0;#d1fae5;#a7f3d0" dur="2.2s" repeatCount="indefinite"/>
                        </circle>
                        <rect x="-100" y="52" width="110" height="3" rx="1" fill="#a7f3d0" opacity="0.7"/>
                        <rect x="-100" y="58" width="80" height="2" rx="1" fill="#6b7280" opacity="0.5"/>
                    </g>
                    
                    <!-- Progress indicators -->
                    <g transform="translate(80,-20)">
                        <!-- Progress circle 1 -->
                        <circle cx="0" cy="0" r="25" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="3"/>
                        <circle cx="0" cy="0" r="25" fill="none" stroke="#10b981" stroke-width="3" stroke-dasharray="110" stroke-dashoffset="30">
                            <animate attributeName="stroke-dashoffset" values="30;10;30" dur="4s" repeatCount="indefinite"/>
                        </circle>
                        <text x="0" y="5" text-anchor="middle" fill="#10b981" font-size="10" font-weight="bold">75%</text>
                    </g>
                    
                    <g transform="translate(80,40)">
                        <!-- Progress circle 2 -->
                        <circle cx="0" cy="0" r="20" fill="none" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                        <circle cx="0" cy="0" r="20" fill="none" stroke="#34d399" stroke-width="2" stroke-dasharray="88" stroke-dashoffset="20">
                            <animate attributeName="stroke-dashoffset" values="20;5;20" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="0" y="4" text-anchor="middle" fill="#34d399" font-size="8" font-weight="bold">90%</text>
                    </g>
                </g>
                
                <!-- Calendar/Schedule elements -->
                <g transform="translate(200,150)">
                    <rect x="0" y="0" width="40" height="35" rx="4" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="1">
                        <animate attributeName="opacity" values="0.8;1;0.8" dur="3s" repeatCount="indefinite"/>
                    </rect>
                    <rect x="5" y="5" width="30" height="3" rx="1" fill="rgba(255,255,255,0.8)"/>
                    <rect x="5" y="12" width="25" height="2" rx="1" fill="rgba(255,255,255,0.6)"/>
                    <rect x="5" y="18" width="20" height="2" rx="1" fill="rgba(255,255,255,0.6)"/>
                    <rect x="5" y="24" width="30" height="2" rx="1" fill="rgba(255,255,255,0.6)"/>
                </g>
                
                <g transform="translate(600,400)">
                    <rect x="0" y="0" width="35" height="30" rx="3" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="1">
                        <animate attributeName="opacity" values="0.8;1;0.8" dur="4s" repeatCount="indefinite"/>
                    </rect>
                    <circle cx="8" cy="8" r="2" fill="rgba(255,255,255,0.8)"/>
                    <circle cx="18" cy="8" r="2" fill="rgba(255,255,255,0.6)"/>
                    <circle cx="27" cy="8" r="2" fill="rgba(255,255,255,0.8)"/>
                    <circle cx="8" cy="18" r="2" fill="rgba(255,255,255,0.6)"/>
                    <circle cx="18" cy="18" r="2" fill="rgba(255,255,255,0.8)"/>
                    <circle cx="27" cy="18" r="2" fill="rgba(255,255,255,0.6)"/>
                </g>
                
                <!-- Notification/Alert bubbles -->
                <g transform="translate(150,350)">
                    <ellipse cx="0" cy="0" rx="25" ry="15" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="1">
                        <animate attributeName="ry" values="15;18;15" dur="2s" repeatCount="indefinite"/>
                    </ellipse>
                    <path d="M-8,-3 L8,-3 M-6,0 L6,0 M-4,3 L4,3" stroke="rgba(255,255,255,0.8)" stroke-width="1" stroke-linecap="round"/>
                    <path d="M-5,8 L0,15 L5,8" fill="rgba(255,255,255,0.15)"/>
                </g>
                
                <g transform="translate(650,200)">
                    <circle cx="0" cy="0" r="18" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)" stroke-width="1">
                        <animate attributeName="r" values="18;22;18" dur="3s" repeatCount="indefinite"/>
                    </circle>
                    <path d="M-6,-6 L6,6 M-6,6 L6,-6" stroke="rgba(255,255,255,0.8)" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="0" cy="0" r="8" fill="none" stroke="rgba(255,255,255,0.6)" stroke-width="1"/>
                </g>
            </svg>
        </div>
    </div>

    <script>
        let selectedType = null;
        
        const options = document.querySelectorAll('.account-type-option');
        const teamInputSection = document.getElementById('teamInputSection');
        const teamNameInput = document.getElementById('teamName');
        const continueBtn = document.getElementById('continueBtn');
        
        // Handle account type selection
        options.forEach(option => {
            option.addEventListener('click', () => {
                // Remove selected class from all options
                options.forEach(opt => opt.classList.remove('selected'));
                
                // Add selected class to clicked option
                option.classList.add('selected');
                
                selectedType = option.dataset.type;
                
                // Show/hide team input based on selection
                if (selectedType === 'work') {
                    teamInputSection.classList.add('show');
                } else {
                    teamInputSection.classList.remove('show');
                    teamNameInput.value = '';
                }
                
                updateContinueButton();
            });
        });
        
        // Handle team name input
        teamNameInput.addEventListener('input', updateContinueButton);
        
        function updateContinueButton() {
            const isPersonal = selectedType === 'personal';
            const isWorkWithTeamName = selectedType === 'work' && teamNameInput.value.trim() !== '';
            
            if (isPersonal || isWorkWithTeamName) {
                continueBtn.disabled = false;
                continueBtn.classList.add('enabled');
            } else {
                continueBtn.disabled = true;
                continueBtn.classList.remove('enabled');
            }
        }
        
        // Handle continue button click
        continueBtn.addEventListener('click', async () => {
            if (continueBtn.disabled) return;
            
            const accountData = {
                type: selectedType,
                teamName: selectedType === 'work' ? teamNameInput.value.trim() : null
            };
            
            try {
                // Here you can send the account type data to your backend
                console.log('Account type selected:', accountData);
                
                // Redirect to team invitation page
                window.location.href = '/team-invitation.html';
            } catch (error) {
                console.error('Error:', error);
                alert('เกิดข้อผิดพลาดในการตั้งค่าบัญชี');
            }
        });
    </script>
</body>
</html>